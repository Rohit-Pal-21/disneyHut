{"ast":null,"code":"var _jsxFileName = \"/home/acer/My  Movies WAD Project/disneyHut/client/src/loaders/LazyImage.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useRef, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst LazyImage = _ref => {\n  _s();\n\n  let {\n    src,\n    placeholder,\n    type\n  } = _ref;\n  const [loading, setLoading] = useState(true);\n  const [imageURL, setImageURL] = useState(\"\");\n  const placeholderRef = useRef();\n  const imageRef = useRef();\n  useEffect(() => {\n    const observer = new IntersectionObserver(entries => {\n      if (entries[0].isIntersecting) {\n        var _imageRef$current;\n\n        setImageURL(imageRef === null || imageRef === void 0 ? void 0 : (_imageRef$current = imageRef.current) === null || _imageRef$current === void 0 ? void 0 : _imageRef$current.getAttribute(\"data-src\"));\n      } // unobserve on intersection\n\n\n      if (entries[0].isIntersecting) observer.unobserve(entries[0].target);\n    });\n\n    if (placeholderRef && placeholderRef.current) {\n      observer.observe(placeholderRef.current);\n    }\n  }, [src, placeholder]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [loading && /*#__PURE__*/_jsxDEV(\"img\", {\n      ref: placeholderRef,\n      src: placeholder,\n      alt: \"\",\n      className: \"fadeImage\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      ref: imageRef,\n      src: imageURL,\n      \"data-src\": src,\n      alt: \"\",\n      className: loading ? \"h-0 w-0 hidden\" : type === \"card\" ? \"rounded-t-md h-full w-full object-cover fadeImage\" : \"h-full w-full object-cover fadeImage\",\n      onLoad: () => setLoading(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(LazyImage, \"WOXaz4Jbwxpn88quWViNUJI8JYA=\");\n\n_c = LazyImage;\nexport default LazyImage;\n\nvar _c;\n\n$RefreshReg$(_c, \"LazyImage\");","map":{"version":3,"names":["useEffect","useRef","useState","LazyImage","src","placeholder","type","loading","setLoading","imageURL","setImageURL","placeholderRef","imageRef","observer","IntersectionObserver","entries","isIntersecting","current","getAttribute","unobserve","target","observe"],"sources":["/home/acer/My  Movies WAD Project/disneyHut/client/src/loaders/LazyImage.js"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\n\nconst LazyImage = ({ src, placeholder, type }) => {\n  const [loading, setLoading] = useState(true);\n  const [imageURL, setImageURL] = useState(\"\");\n  const placeholderRef = useRef();\n  const imageRef = useRef();\n\n  useEffect(() => {\n    const observer = new IntersectionObserver((entries) => {\n      if (entries[0].isIntersecting) {\n        setImageURL(imageRef?.current?.getAttribute(\"data-src\"));\n      }\n      // unobserve on intersection\n      if (entries[0].isIntersecting) observer.unobserve(entries[0].target);\n    });\n    \n    if(placeholderRef && placeholderRef.current) {\n      observer.observe(placeholderRef.current);\n    }\n\n  }, [src, placeholder]);\n\n  return (\n    <>\n      {loading && \n        <img\n          ref={placeholderRef}\n          src={placeholder}\n          alt=\"\"\n          className=\"fadeImage\"\n        />\n      }\n      <img\n        ref={imageRef}\n        src={imageURL}\n        data-src={src}\n        alt=\"\"\n        className={\n          loading\n            ? \"h-0 w-0 hidden\"\n            : type === \"card\"\n            ? \"rounded-t-md h-full w-full object-cover fadeImage\"\n            : \"h-full w-full object-cover fadeImage\"\n        }\n        onLoad={() => setLoading(false)}\n      />\n    </>\n  );\n};\nexport default LazyImage;\n"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,MAApB,EAA4BC,QAA5B,QAA4C,OAA5C;;;;AAEA,MAAMC,SAAS,GAAG,QAAgC;EAAA;;EAAA,IAA/B;IAAEC,GAAF;IAAOC,WAAP;IAAoBC;EAApB,CAA+B;EAChD,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBN,QAAQ,CAAC,IAAD,CAAtC;EACA,MAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAMS,cAAc,GAAGV,MAAM,EAA7B;EACA,MAAMW,QAAQ,GAAGX,MAAM,EAAvB;EAEAD,SAAS,CAAC,MAAM;IACd,MAAMa,QAAQ,GAAG,IAAIC,oBAAJ,CAA0BC,OAAD,IAAa;MACrD,IAAIA,OAAO,CAAC,CAAD,CAAP,CAAWC,cAAf,EAA+B;QAAA;;QAC7BN,WAAW,CAACE,QAAD,aAACA,QAAD,4CAACA,QAAQ,CAAEK,OAAX,sDAAC,kBAAmBC,YAAnB,CAAgC,UAAhC,CAAD,CAAX;MACD,CAHoD,CAIrD;;;MACA,IAAIH,OAAO,CAAC,CAAD,CAAP,CAAWC,cAAf,EAA+BH,QAAQ,CAACM,SAAT,CAAmBJ,OAAO,CAAC,CAAD,CAAP,CAAWK,MAA9B;IAChC,CANgB,CAAjB;;IAQA,IAAGT,cAAc,IAAIA,cAAc,CAACM,OAApC,EAA6C;MAC3CJ,QAAQ,CAACQ,OAAT,CAAiBV,cAAc,CAACM,OAAhC;IACD;EAEF,CAbQ,EAaN,CAACb,GAAD,EAAMC,WAAN,CAbM,CAAT;EAeA,oBACE;IAAA,WACGE,OAAO,iBACN;MACE,GAAG,EAAEI,cADP;MAEE,GAAG,EAAEN,WAFP;MAGE,GAAG,EAAC,EAHN;MAIE,SAAS,EAAC;IAJZ;MAAA;MAAA;MAAA;IAAA,QAFJ,eASE;MACE,GAAG,EAAEO,QADP;MAEE,GAAG,EAAEH,QAFP;MAGE,YAAUL,GAHZ;MAIE,GAAG,EAAC,EAJN;MAKE,SAAS,EACPG,OAAO,GACH,gBADG,GAEHD,IAAI,KAAK,MAAT,GACA,mDADA,GAEA,sCAVR;MAYE,MAAM,EAAE,MAAME,UAAU,CAAC,KAAD;IAZ1B;MAAA;MAAA;MAAA;IAAA,QATF;EAAA,gBADF;AA0BD,CA/CD;;GAAML,S;;KAAAA,S;AAgDN,eAAeA,SAAf"},"metadata":{},"sourceType":"module"}