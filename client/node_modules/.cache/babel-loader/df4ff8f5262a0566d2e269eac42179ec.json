{"ast":null,"code":"var _jsxFileName = \"/home/acer/My  Movies WAD Project/disneyHut/client/src/pages/shows/PopularShows.js\",\n    _s = $RefreshSig$();\n\nimport BackNavigation from \"../../components/general/BackNavigation\";\nimport TrendingCategory from \"../../components/general/Category\";\nimport Footer from \"../../components/general/Footer\";\nimport { useGetShowPopularPageQuery } from \"../../redux/tmdbApi\";\nimport { resetPage } from \"../../redux/layoutSlice\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useState, useEffect } from \"react\";\nimport useUniqueData from \"../../hooks/useUniqueData\";\nimport ListingScreen from \"../../loaders/screens/ListingScreen\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst PopularShows = () => {\n  _s();\n\n  const page = useSelector(state => state.layout.page);\n  const {\n    data,\n    isFetching,\n    isLoading\n  } = useGetShowPopularPageQuery(page);\n  const [final, setFinal] = useState([]);\n  const dispatch = useDispatch();\n  const {\n    uniqueItems\n  } = useUniqueData(final);\n  useEffect(() => {\n    if (data && !isFetching) {\n      setFinal(final => final.concat(...data.results));\n    }\n  }, [data, isFetching]); // Reset to page 1 when unmounts\n\n  useEffect(() => {\n    return () => {\n      dispatch(resetPage());\n      setFinal([]);\n    };\n  }, [dispatch]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full\",\n    children: !isLoading && data ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(BackNavigation, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TrendingCategory, {\n        data: uniqueItems,\n        isFetching: isFetching,\n        heading: \"Popular Shows\",\n        totalPages: data === null || data === void 0 ? void 0 : data.total_pages,\n        mediaType: \"show\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(ListingScreen, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PopularShows, \"LImlP6nMTp25ZHRyAY1HXG+z5yQ=\", false, function () {\n  return [useSelector, useGetShowPopularPageQuery, useDispatch, useUniqueData];\n});\n\n_c = PopularShows;\nexport default PopularShows;\n\nvar _c;\n\n$RefreshReg$(_c, \"PopularShows\");","map":{"version":3,"names":["BackNavigation","TrendingCategory","Footer","useGetShowPopularPageQuery","resetPage","useSelector","useDispatch","useState","useEffect","useUniqueData","ListingScreen","PopularShows","page","state","layout","data","isFetching","isLoading","final","setFinal","dispatch","uniqueItems","concat","results","total_pages"],"sources":["/home/acer/My  Movies WAD Project/disneyHut/client/src/pages/shows/PopularShows.js"],"sourcesContent":["import BackNavigation from \"../../components/general/BackNavigation\";\nimport TrendingCategory from \"../../components/general/Category\";\nimport Footer from \"../../components/general/Footer\";\nimport { useGetShowPopularPageQuery } from \"../../redux/tmdbApi\";\nimport { resetPage } from \"../../redux/layoutSlice\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useState, useEffect } from \"react\";\nimport useUniqueData from \"../../hooks/useUniqueData\";\nimport ListingScreen from \"../../loaders/screens/ListingScreen\";\n\nconst PopularShows = () => {\n  const page = useSelector(state => state.layout.page);\n  const { data, isFetching, isLoading } = useGetShowPopularPageQuery(page);\n  const [final, setFinal] = useState([]);\n  const dispatch = useDispatch();\n  const { uniqueItems } = useUniqueData(final);\n\n  useEffect(() => {\n    if(data && !isFetching) {\n      setFinal(final => final.concat(...data.results));\n    }\n  }, [data, isFetching])\n\n  // Reset to page 1 when unmounts\n  useEffect(() => {\n    return () => {\n      dispatch(resetPage())\n      setFinal([])\n    }\n  },[dispatch])\n\n  return (\n    <div className=\"w-full\">\n      {!isLoading && data ?\n      <>\n        <BackNavigation />\n        <TrendingCategory\n          data={uniqueItems}\n          isFetching={isFetching}\n          heading=\"Popular Shows\"\n          totalPages={data?.total_pages}\n          mediaType=\"show\"\n        />\n        <Footer />\n        </>\n        :\n        <ListingScreen />\n      }\n    </div>\n  )\n}\nexport default PopularShows"],"mappings":";;;AAAA,OAAOA,cAAP,MAA2B,yCAA3B;AACA,OAAOC,gBAAP,MAA6B,mCAA7B;AACA,OAAOC,MAAP,MAAmB,iCAAnB;AACA,SAASC,0BAAT,QAA2C,qBAA3C;AACA,SAASC,SAAT,QAA0B,yBAA1B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,aAAP,MAA0B,2BAA1B;AACA,OAAOC,aAAP,MAA0B,qCAA1B;;;;AAEA,MAAMC,YAAY,GAAG,MAAM;EAAA;;EACzB,MAAMC,IAAI,GAAGP,WAAW,CAACQ,KAAK,IAAIA,KAAK,CAACC,MAAN,CAAaF,IAAvB,CAAxB;EACA,MAAM;IAAEG,IAAF;IAAQC,UAAR;IAAoBC;EAApB,IAAkCd,0BAA0B,CAACS,IAAD,CAAlE;EACA,MAAM,CAACM,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAMa,QAAQ,GAAGd,WAAW,EAA5B;EACA,MAAM;IAAEe;EAAF,IAAkBZ,aAAa,CAACS,KAAD,CAArC;EAEAV,SAAS,CAAC,MAAM;IACd,IAAGO,IAAI,IAAI,CAACC,UAAZ,EAAwB;MACtBG,QAAQ,CAACD,KAAK,IAAIA,KAAK,CAACI,MAAN,CAAa,GAAGP,IAAI,CAACQ,OAArB,CAAV,CAAR;IACD;EACF,CAJQ,EAIN,CAACR,IAAD,EAAOC,UAAP,CAJM,CAAT,CAPyB,CAazB;;EACAR,SAAS,CAAC,MAAM;IACd,OAAO,MAAM;MACXY,QAAQ,CAAChB,SAAS,EAAV,CAAR;MACAe,QAAQ,CAAC,EAAD,CAAR;IACD,CAHD;EAID,CALQ,EAKP,CAACC,QAAD,CALO,CAAT;EAOA,oBACE;IAAK,SAAS,EAAC,QAAf;IAAA,UACG,CAACH,SAAD,IAAcF,IAAd,gBACD;MAAA,wBACE,QAAC,cAAD;QAAA;QAAA;QAAA;MAAA,QADF,eAEE,QAAC,gBAAD;QACE,IAAI,EAAEM,WADR;QAEE,UAAU,EAAEL,UAFd;QAGE,OAAO,EAAC,eAHV;QAIE,UAAU,EAAED,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAES,WAJpB;QAKE,SAAS,EAAC;MALZ;QAAA;QAAA;QAAA;MAAA,QAFF,eASE,QAAC,MAAD;QAAA;QAAA;QAAA;MAAA,QATF;IAAA,gBADC,gBAaC,QAAC,aAAD;MAAA;MAAA;MAAA;IAAA;EAdJ;IAAA;IAAA;IAAA;EAAA,QADF;AAmBD,CAxCD;;GAAMb,Y;UACSN,W,EAC2BF,0B,EAEvBG,W,EACOG,a;;;KALpBE,Y;AAyCN,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}